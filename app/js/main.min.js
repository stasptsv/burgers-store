window.addEventListener('DOMContentLoaded', function() {

	// Vertical Accordeon
	let triggers = document.querySelectorAll('.team-trigger');
	let accContent = document.querySelectorAll('.team-list__item-content');

	triggers.forEach(function(item) {
		item.addEventListener('click', () => {
			accContent.forEach(function(item) {
				item.classList.remove('show')
				item.previousElementSibling.classList.remove('active-item_team')
			});
			item.nextElementSibling.classList.toggle('show');
			item.classList.toggle('active-item__team');
		}); 
	});

	// Feedback Popup
	let popupFeedback = document.querySelector('.feedback-popup');
	let viewBtn = document.querySelectorAll('.feedback-view');
	let closeBtn = document.querySelectorAll('.feedback-full__close');

	// Open Popup
	viewBtn.forEach(function (item) {
		item.addEventListener('click', (event) => {
			event.preventDefault();
			popupFeedback.classList.add('popup-show');
		});
	});

	// Close Popup
	closeBtn.forEach(function(item) {
		item.addEventListener('click', () => {
			popupFeedback.classList.remove('popup-show');
		});
	});

	// Horizontal Accordeon
	let accordeonHorizontal = (function() {
		let accordeon = document.querySelector('.menu-list');
		let triggerWidth;
		let isClicked = false;
		let isPhone = window.innerWidth <= 480;
		
		if (isPhone) {
			accordeon.style.left = accordeon.getBoundingClientRect().left + 'px';
		}
	
		let widthContent = function() {
			let itemQuantity = 3;
			
			if (isPhone) {itemQuantity = 1;}
			let computedWidth = window.innerWidth - itemQuantity * triggerWidth;
	
			return computedWidth > 540 ? 540 : computedWidth;
		}
	
		let toggleAccordeon = function(elem) {
			let initialLeft = window.innerWidth - 3 * triggerWidth + 'px';
			
			if (isClicked) {
				let isOpenedItemClicked = elem.classList.contains('active-acc');
				let activeItem = accordeon.querySelector('.active-acc');
				
				activeItem.classList.toggle('active-acc');
				activeItem.querySelector('.menu-item__content').style.width = 0;
				isClicked = false;
				
				if (isOpenedItemClicked) {
					if (isPhone) {
						accordeon.style.left = initialLeft;}
					return;
				}
			}
			elem.classList.toggle('active-acc');
			
			let elemContent = elem.querySelector('.menu-item__content');
			elemContent.style.width = widthContent() + 'px';
			
			if (isPhone) {
				accordeon.style.left = [].indexOf.call(accordeon.children, elem) * (-(triggerWidth)) + 'px';
			}
			isClicked = true;
		}
	
		let addListeners = function() {
			accordeon.addEventListener('click', function(event) {
				let target = event.target.closest('.menu-trigger');
			
				isPhone = window.innerWidth <= 480;
				triggerWidth = parseInt(getComputedStyle(accordeon.querySelector('.menu-trigger')).width);
				if (target) {
					toggleAccordeon(target.parentElement);}
			})
	
			let crosses = accordeon.querySelectorAll('.menu-item__close');
			for (let i = 0; i < crosses.length; i++) {
				crosses[i].addEventListener('click', function() {
				toggleAccordeon(crosses[i].closest('.active-acc'));
			});
			}
		}
		return {init: addListeners};
	})();
	
	accordeonHorizontal.init();
	

	// Form 
	let message = {
			loading: 'Загрузка...',
			success: 'Спасибо! Скоро мы с вами свяжемся!',
			failure: 'Что-то пошло не так...'
	}

	let form = document.querySelector('.order-form'),
			input = document.querySelector('input'),
			modal =	document.querySelector('.modal'),
			statusMessage = modal.querySelector('.modal-title'),
			modalBtnClose = modal.querySelector('.button-modal');

	modalBtnClose.addEventListener('click', (event) => {
		event.preventDefault();
		modal.classList.remove('modal-show');
	})

	form.addEventListener('submit', function(event) {
		event.preventDefault();

		let request = new XMLHttpRequest();

		request.open('POST', 'server.php');
		request.setRequestHeader('Content-type', 'application/json; charset=utf-8');

		let formData = new FormData(form);

		let obj = {};
		formData.forEach(function(value, key) {
				obj[key] = value;
		});
		
		let json = JSON.stringify(obj);

		request.send(json);

		request.addEventListener('readystatechange', function() {
			if (request.readyState < 4) {
				modal.classList.add('modal-show');
				statusMessage.innerHTML = message.loading;
			} else if(request.readyState === 4 && request.status == 200) {
				modal.classList.add('modal-show');	
				statusMessage.innerHTML = message.success;
			} else {
					statusMessage.classList.add('modal-show');
					statusMessage.innerHTML = message.failure;
				}
			});

		for (let i = 0; i < input.length; i++) {
			input[i].value = '';
		}
	});

	// Open Mobile Navigation
	function openNavigation() {
		let mobileNav = document.querySelector('.mobile-menu');
		
		mobileNav.style.height = '100%';
	}

	function closeNavigation() {
		let mobileNav = document.querySelector('.mobile-menu');
		
		mobileNav.style.height = '0';
	}

	let humburger = document.querySelector('.hamburger');
	let btnClose = document.querySelector('.navigation-mobile__close');

	humburger.addEventListener('click', (event) => {
		event.preventDefault();
		openNavigation();
	});

	btnClose.addEventListener('click', (event) => {
		event.preventDefault();
		closeNavigation();
	});

	// Slider
	let slideIndex = 1;
	let slidesImage = document.querySelectorAll('.slider-item');
	let slidesTitle = document.querySelectorAll('.section-title__burgers');
	let slidesDescr = document.querySelectorAll('.burger-descr');
	let arrowPrev = document.querySelector('.arrow-prev');
	let arrowNext = document.querySelector('.arrow-next');
	let price = document.querySelectorAll('.burger-price');

	showSlidesImage(slideIndex);
	
	function showSlidesImage(n) {
		if (n > slidesImage.length) {
			slideIndex = 1;
		} if (n < 1) {
			slideIndex = slidesImage.length;
		}

		slidesImage.forEach((item) => { // Перебор всех слайдов
			item.style.display = 'none'; // Скрыть все слайды
		});

		slidesTitle.forEach((item) => {
			item.style.display = 'none';
		});

		price.forEach((item) => {
			item.style.display = 'none'
		})

		slidesDescr.forEach((item) => {
			item.style.display = 'none';
		});

		slidesImage[slideIndex - 1].style.display = 'block'; // Показать первый слайд
		slidesTitle[slideIndex - 1].style.display = 'block';
		slidesDescr[slideIndex - 1].style.display = 'block'; 
		price[slideIndex - 1].style.display = 'block';
	}

	function nextSlides(n) { // Смена слайдов
		showSlidesImage(slideIndex += n);
	}

	function currentSlide(n) {
		showSlidesImage(slideIndex = n);
	}

	arrowPrev.addEventListener('click', function() {
		nextSlides(-1);
	});

	arrowNext.addEventListener('click', function() {
		nextSlides(1);
	});

	// Video
	function findVideos() {
		let videos = document.querySelectorAll('.video');
	
		for (let i = 0; i < videos.length; i++) {
			setupVideo(videos[i]);
		}
	}
	
	function setupVideo(video) {
		let link = video.querySelector('.video-link');
		let media = video.querySelector('.video-media');
		let button = video.querySelector('.video-button');
		let id = parseMediaURL(media);
	
		video.addEventListener('click', () => {
			let iframe = createIframe(id);
	
			link.remove();
			button.remove();
			video.appendChild(iframe);
		});
	
		link.removeAttribute('href');
		video.classList.add('video__enabled');
	}
	
	function parseMediaURL(media) {
		let regexp = /https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/mqdefault\.jpg/i;
		let url = media.src;
		let match = url.match(regexp);
	
		return match[1];
	}
	
	function createIframe(id) {
		let iframe = document.createElement('iframe');
	
		iframe.setAttribute('allowfullscreen', '');
		iframe.setAttribute('allow', 'autoplay');
		iframe.setAttribute('src', generateURL(id));
		iframe.classList.add('video-media');
	
		return iframe;
	}
	
	function generateURL(id) {
		let query = '?rel=0&showinfo=0&autoplay=1';
	
		return 'https://www.youtube.com/embed/' + id + query;
	}
	
	findVideos();
	

	// Yandex Map 
	ymaps.ready();

	let myPlacemarks = [
		{
			latitude: 59.97,
			longitude: 30.31,
			hintContent: 'ул. Литераторов, д. 19А',
			balloonContent: [
				'<div class="map-balloon">',
					'<svg class="map-balloon__img">',
						'<use xlink:href="image/svg/sprite.svg#logo"></use>',	
					'</svg>',
					'ул. Литераторов, д. 19А',
				'</div>'
			]
		},
		{
			latitude: 59.945,  
			longitude: 30.38,
			hintContent: 'Калужский переулок, 9',
			balloonContent: [
				'<div class="map-balloon">',
					'<svg class="map-balloon__img" >',
						'<use xlink:href="image/svg/sprite.svg#logo"></use>',	
					'</svg>',
					'Калужский переулок, 9',
				'</div>'
			]
		},
		{
			latitude: 59.89,
			longitude: 30.32,
			hintContent: 'Московский проспект, 109',
			balloonContent: [
				'<div class="map-balloon">',
					'<svg class="map-balloon__img">',
						'<use xlink:href="image/svg/sprite.svg#logo"></use>',	
					'</svg>',
					'Московский проспект, 109',
				'</div>'
			]
		},
		{
			latitude: 59.918,
			longitude: 30.493,
			hintContent: 'улица Подвойского, 42',
			balloonContent: [
				'<div class="map-balloon">',
					'<svg class="map-balloon__img">',
						'<use xlink:href="image/svg/sprite.svg#logo1"></use>',	
					'</svg>',
					'улица Подвойского, 42',
				'</div>'
			]
		}
	];

	ymaps.ready(function () {     
		let myMap = new ymaps.Map('map', {
				center: [59.94, 30.32],
				zoom: 11,
				controls: ['zoomControl'],
				behaviors: ['drag']
		}, {
				searchControlProvider: 'yandex#search'
		});

		let customIcon = ymaps.templateLayoutFactory.createClass('<svg width="46" height="57"><use xlink:href="image/svg/sprite.svg#map-marker"></use></svg>');

		myPlacemarks.forEach(function(obj) {
			let myPlacemark = new ymaps.Placemark([obj.latitude, obj.longitude], { 
				hintContent: obj.hintContent, 
				balloonContent: obj.balloonContent.join('') 
			},
			{
				iconLayout: 'default#image',
				iconImageHref: 'image/svg/map-marker.svg',
				iconImageSize: [46, 57],
				iconImageOffset: [-23, -57]
			});

				myMap.geoObjects.add(myPlacemark);
		});
	});
	
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuXHJcblx0Ly8gVmVydGljYWwgQWNjb3JkZW9uXHJcblx0bGV0IHRyaWdnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlYW0tdHJpZ2dlcicpO1xyXG5cdGxldCBhY2NDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRlYW0tbGlzdF9faXRlbS1jb250ZW50Jyk7XHJcblxyXG5cdHRyaWdnZXJzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0YWNjQ29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG5cdFx0XHRcdGl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtaXRlbV90ZWFtJylcclxuXHRcdFx0fSk7XHJcblx0XHRcdGl0ZW0ubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTtcclxuXHRcdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUtaXRlbV9fdGVhbScpO1xyXG5cdFx0fSk7IFxyXG5cdH0pO1xyXG5cclxuXHQvLyBGZWVkYmFjayBQb3B1cFxyXG5cdGxldCBwb3B1cEZlZWRiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZlZWRiYWNrLXBvcHVwJyk7XHJcblx0bGV0IHZpZXdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZmVlZGJhY2stdmlldycpO1xyXG5cdGxldCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mZWVkYmFjay1mdWxsX19jbG9zZScpO1xyXG5cclxuXHQvLyBPcGVuIFBvcHVwXHJcblx0dmlld0J0bi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHBvcHVwRmVlZGJhY2suY2xhc3NMaXN0LmFkZCgncG9wdXAtc2hvdycpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG5cdC8vIENsb3NlIFBvcHVwXHJcblx0Y2xvc2VCdG4uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRwb3B1cEZlZWRiYWNrLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwLXNob3cnKTtcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBIb3Jpem9udGFsIEFjY29yZGVvblxyXG5cdGxldCBhY2NvcmRlb25Ib3Jpem9udGFsID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0bGV0IGFjY29yZGVvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWxpc3QnKTtcclxuXHRcdGxldCB0cmlnZ2VyV2lkdGg7XHJcblx0XHRsZXQgaXNDbGlja2VkID0gZmFsc2U7XHJcblx0XHRsZXQgaXNQaG9uZSA9IHdpbmRvdy5pbm5lcldpZHRoIDw9IDQ4MDtcclxuXHRcdFxyXG5cdFx0aWYgKGlzUGhvbmUpIHtcclxuXHRcdFx0YWNjb3JkZW9uLnN0eWxlLmxlZnQgPSBhY2NvcmRlb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICdweCc7XHJcblx0XHR9XHJcblx0XHJcblx0XHRsZXQgd2lkdGhDb250ZW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGxldCBpdGVtUXVhbnRpdHkgPSAzO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKGlzUGhvbmUpIHtpdGVtUXVhbnRpdHkgPSAxO31cclxuXHRcdFx0bGV0IGNvbXB1dGVkV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGl0ZW1RdWFudGl0eSAqIHRyaWdnZXJXaWR0aDtcclxuXHRcclxuXHRcdFx0cmV0dXJuIGNvbXB1dGVkV2lkdGggPiA1NDAgPyA1NDAgOiBjb21wdXRlZFdpZHRoO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0bGV0IHRvZ2dsZUFjY29yZGVvbiA9IGZ1bmN0aW9uKGVsZW0pIHtcclxuXHRcdFx0bGV0IGluaXRpYWxMZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLSAzICogdHJpZ2dlcldpZHRoICsgJ3B4JztcclxuXHRcdFx0XHJcblx0XHRcdGlmIChpc0NsaWNrZWQpIHtcclxuXHRcdFx0XHRsZXQgaXNPcGVuZWRJdGVtQ2xpY2tlZCA9IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUtYWNjJyk7XHJcblx0XHRcdFx0bGV0IGFjdGl2ZUl0ZW0gPSBhY2NvcmRlb24ucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1hY2MnKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRhY3RpdmVJdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1hY2MnKTtcclxuXHRcdFx0XHRhY3RpdmVJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWl0ZW1fX2NvbnRlbnQnKS5zdHlsZS53aWR0aCA9IDA7XHJcblx0XHRcdFx0aXNDbGlja2VkID0gZmFsc2U7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYgKGlzT3BlbmVkSXRlbUNsaWNrZWQpIHtcclxuXHRcdFx0XHRcdGlmIChpc1Bob25lKSB7XHJcblx0XHRcdFx0XHRcdGFjY29yZGVvbi5zdHlsZS5sZWZ0ID0gaW5pdGlhbExlZnQ7fVxyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRlbGVtLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1hY2MnKTtcclxuXHRcdFx0XHJcblx0XHRcdGxldCBlbGVtQ29udGVudCA9IGVsZW0ucXVlcnlTZWxlY3RvcignLm1lbnUtaXRlbV9fY29udGVudCcpO1xyXG5cdFx0XHRlbGVtQ29udGVudC5zdHlsZS53aWR0aCA9IHdpZHRoQ29udGVudCgpICsgJ3B4JztcclxuXHRcdFx0XHJcblx0XHRcdGlmIChpc1Bob25lKSB7XHJcblx0XHRcdFx0YWNjb3JkZW9uLnN0eWxlLmxlZnQgPSBbXS5pbmRleE9mLmNhbGwoYWNjb3JkZW9uLmNoaWxkcmVuLCBlbGVtKSAqICgtKHRyaWdnZXJXaWR0aCkpICsgJ3B4JztcclxuXHRcdFx0fVxyXG5cdFx0XHRpc0NsaWNrZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFxyXG5cdFx0bGV0IGFkZExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRhY2NvcmRlb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0XHRcdGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1lbnUtdHJpZ2dlcicpO1xyXG5cdFx0XHRcclxuXHRcdFx0XHRpc1Bob25lID0gd2luZG93LmlubmVyV2lkdGggPD0gNDgwO1xyXG5cdFx0XHRcdHRyaWdnZXJXaWR0aCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoYWNjb3JkZW9uLnF1ZXJ5U2VsZWN0b3IoJy5tZW51LXRyaWdnZXInKSkud2lkdGgpO1xyXG5cdFx0XHRcdGlmICh0YXJnZXQpIHtcclxuXHRcdFx0XHRcdHRvZ2dsZUFjY29yZGVvbih0YXJnZXQucGFyZW50RWxlbWVudCk7fVxyXG5cdFx0XHR9KVxyXG5cdFxyXG5cdFx0XHRsZXQgY3Jvc3NlcyA9IGFjY29yZGVvbi5xdWVyeVNlbGVjdG9yQWxsKCcubWVudS1pdGVtX19jbG9zZScpO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNyb3NzZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRjcm9zc2VzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dG9nZ2xlQWNjb3JkZW9uKGNyb3NzZXNbaV0uY2xvc2VzdCgnLmFjdGl2ZS1hY2MnKSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge2luaXQ6IGFkZExpc3RlbmVyc307XHJcblx0fSkoKTtcclxuXHRcclxuXHRhY2NvcmRlb25Ib3Jpem9udGFsLmluaXQoKTtcclxuXHRcclxuXHJcblx0Ly8gRm9ybSBcclxuXHRsZXQgbWVzc2FnZSA9IHtcclxuXHRcdFx0bG9hZGluZzogJ9CX0LDQs9GA0YPQt9C60LAuLi4nLFxyXG5cdFx0XHRzdWNjZXNzOiAn0KHQv9Cw0YHQuNCx0L4hINCh0LrQvtGA0L4g0LzRiyDRgSDQstCw0LzQuCDRgdCy0Y/QttC10LzRgdGPIScsXHJcblx0XHRcdGZhaWx1cmU6ICfQp9GC0L4t0YLQviDQv9C+0YjQu9C+INC90LUg0YLQsNC6Li4uJ1xyXG5cdH1cclxuXHJcblx0bGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3JkZXItZm9ybScpLFxyXG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JyksXHJcblx0XHRcdG1vZGFsID1cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpLFxyXG5cdFx0XHRzdGF0dXNNZXNzYWdlID0gbW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsLXRpdGxlJyksXHJcblx0XHRcdG1vZGFsQnRuQ2xvc2UgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLW1vZGFsJyk7XHJcblxyXG5cdG1vZGFsQnRuQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC1zaG93Jyk7XHJcblx0fSlcclxuXHJcblx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihldmVudCkge1xyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuXHRcdHJlcXVlc3Qub3BlbignUE9TVCcsICdzZXJ2ZXIucGhwJyk7XHJcblx0XHRyZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Jyk7XHJcblxyXG5cdFx0bGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xyXG5cclxuXHRcdGxldCBvYmogPSB7fTtcclxuXHRcdGZvcm1EYXRhLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG5cdFx0XHRcdG9ialtrZXldID0gdmFsdWU7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cdFx0bGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmopO1xyXG5cclxuXHRcdHJlcXVlc3Quc2VuZChqc29uKTtcclxuXHJcblx0XHRyZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA8IDQpIHtcclxuXHRcdFx0XHRtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbC1zaG93Jyk7XHJcblx0XHRcdFx0c3RhdHVzTWVzc2FnZS5pbm5lckhUTUwgPSBtZXNzYWdlLmxvYWRpbmc7XHJcblx0XHRcdH0gZWxzZSBpZihyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQgJiYgcmVxdWVzdC5zdGF0dXMgPT0gMjAwKSB7XHJcblx0XHRcdFx0bW9kYWwuY2xhc3NMaXN0LmFkZCgnbW9kYWwtc2hvdycpO1x0XHJcblx0XHRcdFx0c3RhdHVzTWVzc2FnZS5pbm5lckhUTUwgPSBtZXNzYWdlLnN1Y2Nlc3M7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzdGF0dXNNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ21vZGFsLXNob3cnKTtcclxuXHRcdFx0XHRcdHN0YXR1c01lc3NhZ2UuaW5uZXJIVE1MID0gbWVzc2FnZS5mYWlsdXJlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRpbnB1dFtpXS52YWx1ZSA9ICcnO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvLyBPcGVuIE1vYmlsZSBOYXZpZ2F0aW9uXHJcblx0ZnVuY3Rpb24gb3Blbk5hdmlnYXRpb24oKSB7XHJcblx0XHRsZXQgbW9iaWxlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51Jyk7XHJcblx0XHRcclxuXHRcdG1vYmlsZU5hdi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBjbG9zZU5hdmlnYXRpb24oKSB7XHJcblx0XHRsZXQgbW9iaWxlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51Jyk7XHJcblx0XHRcclxuXHRcdG1vYmlsZU5hdi5zdHlsZS5oZWlnaHQgPSAnMCc7XHJcblx0fVxyXG5cclxuXHRsZXQgaHVtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpO1xyXG5cdGxldCBidG5DbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uLW1vYmlsZV9fY2xvc2UnKTtcclxuXHJcblx0aHVtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0b3Blbk5hdmlnYXRpb24oKTtcclxuXHR9KTtcclxuXHJcblx0YnRuQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRjbG9zZU5hdmlnYXRpb24oKTtcclxuXHR9KTtcclxuXHJcblx0Ly8gU2xpZGVyXHJcblx0bGV0IHNsaWRlSW5kZXggPSAxO1xyXG5cdGxldCBzbGlkZXNJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItaXRlbScpO1xyXG5cdGxldCBzbGlkZXNUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uLXRpdGxlX19idXJnZXJzJyk7XHJcblx0bGV0IHNsaWRlc0Rlc2NyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1cmdlci1kZXNjcicpO1xyXG5cdGxldCBhcnJvd1ByZXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctcHJldicpO1xyXG5cdGxldCBhcnJvd05leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3ctbmV4dCcpO1xyXG5cdGxldCBwcmljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5idXJnZXItcHJpY2UnKTtcclxuXHJcblx0c2hvd1NsaWRlc0ltYWdlKHNsaWRlSW5kZXgpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIHNob3dTbGlkZXNJbWFnZShuKSB7XHJcblx0XHRpZiAobiA+IHNsaWRlc0ltYWdlLmxlbmd0aCkge1xyXG5cdFx0XHRzbGlkZUluZGV4ID0gMTtcclxuXHRcdH0gaWYgKG4gPCAxKSB7XHJcblx0XHRcdHNsaWRlSW5kZXggPSBzbGlkZXNJbWFnZS5sZW5ndGg7XHJcblx0XHR9XHJcblxyXG5cdFx0c2xpZGVzSW1hZ2UuZm9yRWFjaCgoaXRlbSkgPT4geyAvLyDQn9C10YDQtdCx0L7RgCDQstGB0LXRhSDRgdC70LDQudC00L7QslxyXG5cdFx0XHRpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vINCh0LrRgNGL0YLRjCDQstGB0LUg0YHQu9Cw0LnQtNGLXHJcblx0XHR9KTtcclxuXHJcblx0XHRzbGlkZXNUaXRsZS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdH0pO1xyXG5cclxuXHRcdHByaWNlLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHR9KVxyXG5cclxuXHRcdHNsaWRlc0Rlc2NyLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHRcdFx0aXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2xpZGVzSW1hZ2Vbc2xpZGVJbmRleCAtIDFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvLyDQn9C+0LrQsNC30LDRgtGMINC/0LXRgNCy0YvQuSDRgdC70LDQudC0XHJcblx0XHRzbGlkZXNUaXRsZVtzbGlkZUluZGV4IC0gMV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0XHRzbGlkZXNEZXNjcltzbGlkZUluZGV4IC0gMV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IFxyXG5cdFx0cHJpY2Vbc2xpZGVJbmRleCAtIDFdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gbmV4dFNsaWRlcyhuKSB7IC8vINCh0LzQtdC90LAg0YHQu9Cw0LnQtNC+0LJcclxuXHRcdHNob3dTbGlkZXNJbWFnZShzbGlkZUluZGV4ICs9IG4pO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gY3VycmVudFNsaWRlKG4pIHtcclxuXHRcdHNob3dTbGlkZXNJbWFnZShzbGlkZUluZGV4ID0gbik7XHJcblx0fVxyXG5cclxuXHRhcnJvd1ByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdG5leHRTbGlkZXMoLTEpO1xyXG5cdH0pO1xyXG5cclxuXHRhcnJvd05leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdG5leHRTbGlkZXMoMSk7XHJcblx0fSk7XHJcblxyXG5cdC8vIFZpZGVvXHJcblx0ZnVuY3Rpb24gZmluZFZpZGVvcygpIHtcclxuXHRcdGxldCB2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudmlkZW8nKTtcclxuXHRcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdmlkZW9zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHNldHVwVmlkZW8odmlkZW9zW2ldKTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gc2V0dXBWaWRlbyh2aWRlbykge1xyXG5cdFx0bGV0IGxpbmsgPSB2aWRlby5xdWVyeVNlbGVjdG9yKCcudmlkZW8tbGluaycpO1xyXG5cdFx0bGV0IG1lZGlhID0gdmlkZW8ucXVlcnlTZWxlY3RvcignLnZpZGVvLW1lZGlhJyk7XHJcblx0XHRsZXQgYnV0dG9uID0gdmlkZW8ucXVlcnlTZWxlY3RvcignLnZpZGVvLWJ1dHRvbicpO1xyXG5cdFx0bGV0IGlkID0gcGFyc2VNZWRpYVVSTChtZWRpYSk7XHJcblx0XHJcblx0XHR2aWRlby5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0bGV0IGlmcmFtZSA9IGNyZWF0ZUlmcmFtZShpZCk7XHJcblx0XHJcblx0XHRcdGxpbmsucmVtb3ZlKCk7XHJcblx0XHRcdGJ1dHRvbi5yZW1vdmUoKTtcclxuXHRcdFx0dmlkZW8uYXBwZW5kQ2hpbGQoaWZyYW1lKTtcclxuXHRcdH0pO1xyXG5cdFxyXG5cdFx0bGluay5yZW1vdmVBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuXHRcdHZpZGVvLmNsYXNzTGlzdC5hZGQoJ3ZpZGVvX19lbmFibGVkJyk7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHBhcnNlTWVkaWFVUkwobWVkaWEpIHtcclxuXHRcdGxldCByZWdleHAgPSAvaHR0cHM6XFwvXFwvaVxcLnl0aW1nXFwuY29tXFwvdmlcXC8oW2EtekEtWjAtOV8tXSspXFwvbXFkZWZhdWx0XFwuanBnL2k7XHJcblx0XHRsZXQgdXJsID0gbWVkaWEuc3JjO1xyXG5cdFx0bGV0IG1hdGNoID0gdXJsLm1hdGNoKHJlZ2V4cCk7XHJcblx0XHJcblx0XHRyZXR1cm4gbWF0Y2hbMV07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZShpZCkge1xyXG5cdFx0bGV0IGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xyXG5cdFxyXG5cdFx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYWxsb3dmdWxsc2NyZWVuJywgJycpO1xyXG5cdFx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYWxsb3cnLCAnYXV0b3BsYXknKTtcclxuXHRcdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGdlbmVyYXRlVVJMKGlkKSk7XHJcblx0XHRpZnJhbWUuY2xhc3NMaXN0LmFkZCgndmlkZW8tbWVkaWEnKTtcclxuXHRcclxuXHRcdHJldHVybiBpZnJhbWU7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGdlbmVyYXRlVVJMKGlkKSB7XHJcblx0XHRsZXQgcXVlcnkgPSAnP3JlbD0wJnNob3dpbmZvPTAmYXV0b3BsYXk9MSc7XHJcblx0XHJcblx0XHRyZXR1cm4gJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycgKyBpZCArIHF1ZXJ5O1xyXG5cdH1cclxuXHRcclxuXHRmaW5kVmlkZW9zKCk7XHJcblx0XHJcblxyXG5cdC8vIFlhbmRleCBNYXAgXHJcblx0eW1hcHMucmVhZHkoKTtcclxuXHJcblx0bGV0IG15UGxhY2VtYXJrcyA9IFtcclxuXHRcdHtcclxuXHRcdFx0bGF0aXR1ZGU6IDU5Ljk3LFxyXG5cdFx0XHRsb25naXR1ZGU6IDMwLjMxLFxyXG5cdFx0XHRoaW50Q29udGVudDogJ9GD0LsuINCb0LjRgtC10YDQsNGC0L7RgNC+0LIsINC0LiAxOdCQJyxcclxuXHRcdFx0YmFsbG9vbkNvbnRlbnQ6IFtcclxuXHRcdFx0XHQnPGRpdiBjbGFzcz1cIm1hcC1iYWxsb29uXCI+JyxcclxuXHRcdFx0XHRcdCc8c3ZnIGNsYXNzPVwibWFwLWJhbGxvb25fX2ltZ1wiPicsXHJcblx0XHRcdFx0XHRcdCc8dXNlIHhsaW5rOmhyZWY9XCJpbWFnZS9zdmcvc3ByaXRlLnN2ZyNsb2dvXCI+PC91c2U+JyxcdFxyXG5cdFx0XHRcdFx0Jzwvc3ZnPicsXHJcblx0XHRcdFx0XHQn0YPQuy4g0JvQuNGC0LXRgNCw0YLQvtGA0L7Qsiwg0LQuIDE50JAnLFxyXG5cdFx0XHRcdCc8L2Rpdj4nXHJcblx0XHRcdF1cclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGxhdGl0dWRlOiA1OS45NDUsICBcclxuXHRcdFx0bG9uZ2l0dWRlOiAzMC4zOCxcclxuXHRcdFx0aGludENvbnRlbnQ6ICfQmtCw0LvRg9C20YHQutC40Lkg0L/QtdGA0LXRg9C70L7QuiwgOScsXHJcblx0XHRcdGJhbGxvb25Db250ZW50OiBbXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtYXAtYmFsbG9vblwiPicsXHJcblx0XHRcdFx0XHQnPHN2ZyBjbGFzcz1cIm1hcC1iYWxsb29uX19pbWdcIiA+JyxcclxuXHRcdFx0XHRcdFx0Jzx1c2UgeGxpbms6aHJlZj1cImltYWdlL3N2Zy9zcHJpdGUuc3ZnI2xvZ29cIj48L3VzZT4nLFx0XHJcblx0XHRcdFx0XHQnPC9zdmc+JyxcclxuXHRcdFx0XHRcdCfQmtCw0LvRg9C20YHQutC40Lkg0L/QtdGA0LXRg9C70L7QuiwgOScsXHJcblx0XHRcdFx0JzwvZGl2PidcclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bGF0aXR1ZGU6IDU5Ljg5LFxyXG5cdFx0XHRsb25naXR1ZGU6IDMwLjMyLFxyXG5cdFx0XHRoaW50Q29udGVudDogJ9Cc0L7RgdC60L7QstGB0LrQuNC5INC/0YDQvtGB0L/QtdC60YIsIDEwOScsXHJcblx0XHRcdGJhbGxvb25Db250ZW50OiBbXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtYXAtYmFsbG9vblwiPicsXHJcblx0XHRcdFx0XHQnPHN2ZyBjbGFzcz1cIm1hcC1iYWxsb29uX19pbWdcIj4nLFxyXG5cdFx0XHRcdFx0XHQnPHVzZSB4bGluazpocmVmPVwiaW1hZ2Uvc3ZnL3Nwcml0ZS5zdmcjbG9nb1wiPjwvdXNlPicsXHRcclxuXHRcdFx0XHRcdCc8L3N2Zz4nLFxyXG5cdFx0XHRcdFx0J9Cc0L7RgdC60L7QstGB0LrQuNC5INC/0YDQvtGB0L/QtdC60YIsIDEwOScsXHJcblx0XHRcdFx0JzwvZGl2PidcclxuXHRcdFx0XVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0bGF0aXR1ZGU6IDU5LjkxOCxcclxuXHRcdFx0bG9uZ2l0dWRlOiAzMC40OTMsXHJcblx0XHRcdGhpbnRDb250ZW50OiAn0YPQu9C40YbQsCDQn9C+0LTQstC+0LnRgdC60L7Qs9C+LCA0MicsXHJcblx0XHRcdGJhbGxvb25Db250ZW50OiBbXHJcblx0XHRcdFx0JzxkaXYgY2xhc3M9XCJtYXAtYmFsbG9vblwiPicsXHJcblx0XHRcdFx0XHQnPHN2ZyBjbGFzcz1cIm1hcC1iYWxsb29uX19pbWdcIj4nLFxyXG5cdFx0XHRcdFx0XHQnPHVzZSB4bGluazpocmVmPVwiaW1hZ2Uvc3ZnL3Nwcml0ZS5zdmcjbG9nbzFcIj48L3VzZT4nLFx0XHJcblx0XHRcdFx0XHQnPC9zdmc+JyxcclxuXHRcdFx0XHRcdCfRg9C70LjRhtCwINCf0L7QtNCy0L7QudGB0LrQvtCz0L4sIDQyJyxcclxuXHRcdFx0XHQnPC9kaXY+J1xyXG5cdFx0XHRdXHJcblx0XHR9XHJcblx0XTtcclxuXHJcblx0eW1hcHMucmVhZHkoZnVuY3Rpb24gKCkgeyAgICAgXHJcblx0XHRsZXQgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKCdtYXAnLCB7XHJcblx0XHRcdFx0Y2VudGVyOiBbNTkuOTQsIDMwLjMyXSxcclxuXHRcdFx0XHR6b29tOiAxMSxcclxuXHRcdFx0XHRjb250cm9sczogWyd6b29tQ29udHJvbCddLFxyXG5cdFx0XHRcdGJlaGF2aW9yczogWydkcmFnJ11cclxuXHRcdH0sIHtcclxuXHRcdFx0XHRzZWFyY2hDb250cm9sUHJvdmlkZXI6ICd5YW5kZXgjc2VhcmNoJ1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bGV0IGN1c3RvbUljb24gPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoJzxzdmcgd2lkdGg9XCI0NlwiIGhlaWdodD1cIjU3XCI+PHVzZSB4bGluazpocmVmPVwiaW1hZ2Uvc3ZnL3Nwcml0ZS5zdmcjbWFwLW1hcmtlclwiPjwvdXNlPjwvc3ZnPicpO1xyXG5cclxuXHRcdG15UGxhY2VtYXJrcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xyXG5cdFx0XHRsZXQgbXlQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFtvYmoubGF0aXR1ZGUsIG9iai5sb25naXR1ZGVdLCB7IFxyXG5cdFx0XHRcdGhpbnRDb250ZW50OiBvYmouaGludENvbnRlbnQsIFxyXG5cdFx0XHRcdGJhbGxvb25Db250ZW50OiBvYmouYmFsbG9vbkNvbnRlbnQuam9pbignJykgXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcblx0XHRcdFx0aWNvbkltYWdlSHJlZjogJ2ltYWdlL3N2Zy9tYXAtbWFya2VyLnN2ZycsXHJcblx0XHRcdFx0aWNvbkltYWdlU2l6ZTogWzQ2LCA1N10sXHJcblx0XHRcdFx0aWNvbkltYWdlT2Zmc2V0OiBbLTIzLCAtNTddXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7XHJcblx0XHR9KTtcclxuXHR9KTtcclxuXHRcclxufSk7Il19
